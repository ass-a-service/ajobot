########################################
# General
########################################
daemonize no
protected-mode yes
bind 0.0.0.0
port 6379

########################################
# Memory & Performance
########################################
maxmemory 0
maxmemory-policy noeviction
io-threads 4
io-threads-do-reads yes

########################################
# Persistence (AOF-focused)
########################################
# Enable Append-Only File
appendonly yes

# Most balanced fsync mode: async writes, fsync every second.
# (If you want no data loss ever: set to "always")
appendfsync everysec

# Auto-rewrite when AOF grows too much
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Use faster and safer RDB+AOF hybrid format
aof-use-rdb-preamble yes

########################################
# Snapshotting (RDB fallback)
########################################
save 900 1
save 300 10
save 60 10000

########################################
# Networking & Safety
########################################
tcp-keepalive 300
timeout 0

########################################
# Logging
########################################
loglevel notice
